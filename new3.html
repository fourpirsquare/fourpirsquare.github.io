<html>
	<head>
		<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
		<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	</head>
	<body>
		<a-scene ar>
			<a-assets>
				<img id="newimage" src="image.jpg">
			</a-assets>	
			<a-ring id="cursor" radius-inner="0.1" radius-outer="0.2"  
				color="teal" position="0 -0.8 -5" rotation="-90 0 0">
			</a-ring>
			<a-camera>
				<a-entity id="virtual" jpeg-model="#newimage" position visible> </a-entity>
				<a-entity ar-raycaster raycaster cursor="fuse:false"> </a-entity>
				<script type="text/javascript">	
					let scene = document.querySelector('a-scene');
					let raycaster = document.querySelector('[ar-raycaster]');
					let cursor = document.querySelector('#cursor');
					raycaster.addEventListener('raycaster-intersection', function(e){
						cursor.setAttribute('position', e.detail.intersections[0].point);
						cursor.setAttribute('visible', true);
					});
					raycaster.addEventListener('raycaster-intersection-cleared', function(e){
						cursor.setAttribute('visible', false);
					});
					window.addEventListener('click', function() {
						let virtual = document.querySelector('#virtual');
						console.log('I am clicked');
						console.log(virtual);
						let position = cursor.getAttribute('position');
						console.log(cursor.getAttribute('position').y);
						console.log(position)
						console.log(virtual.getAttribute('visible'));
						console.log(virtual.getAttribute('position').y);
						virtual.setAttribute('position', {x: 0, y: 0.3, z: 0.5});
						console.log('changed');
						console.log(virtual.getAttribute('position').y);
						virtual.setAttribute('visible',true);
						console.log(virtual.getAttribute('visible'));
						console.log('bye');
					});
				</script>
			</a-camera>
		</a-scene>
	</body>
</html>
